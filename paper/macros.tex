% Centralized notation and environments

% Sets and operators
\newcommand{\R}{\mathbb{R}}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

% Common symbols
\newcommand{\E}{\mathbb{E}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\sys}{LDTC}

% LDTC-specific notation
\newcommand{\Lloop}{\mathcal{L}_{\text{loop}}}
\newcommand{\Lexchange}{\mathcal{L}_{\text{exchange}}}
\newcommand{\NC}{NC1\xspace}
\newcommand{\SC}{SC1\xspace}
\newcommand{\Rzero}{R_0}
\newcommand{\Rstar}{R^*}

% Conditions and thresholds
\newcommand{\eps}{\varepsilon}
\newcommand{\taumax}{\tau_{\max}}
\newcommand{\taurec}{\tau_{\text{rec}}}
\newcommand{\Mmin}{M_{\min}}
\newcommand{\deltaL}{\delta\mathcal{L}_{\text{loop}}}

% Common phrases
\newcommand{\prophetic}{\textbf{Prophetic notice}---Unless expressly labeled ``Actual Data'' with a date and repository link, all examples and protocols in this manuscript are prophetic and describe planned or predicted performance; verbs are used in present/future tense accordingly.}

% Figure helpers (placeholder-safe)
\newcommand{\maybeincludegraphics}[2][]{%
  \IfFileExists{#2}{\includegraphics[#1]{#2}}{%
    \fbox{\begin{minipage}[c][2in][c]{0.9\linewidth}\centering Placeholder: #2\end{minipage}}%
  }%
}

% Convenience macro to insert a figure with placeholder if asset is missing
\newcommand{\fig}[4][0.9\linewidth]{%
  \begin{figure}[ht]
  \centering
  \maybeincludegraphics[width=#1]{#2}
  \caption{#3}
  \label{#4}
  \end{figure}%
}

% ------------------------------------------------------------
% Cross-reference helpers (sections/subsections as \S / \S\S)
% Requires cleveref to be loaded in the main preamble
\crefname{section}{\S}{\S\S}
\Crefname{section}{\S}{\S\S}
\crefname{subsection}{\S}{\S\S}
\Crefname{subsection}{\S}{\S\S}
\crefname{subsubsection}{\S}{\S\S}
\Crefname{subsubsection}{\S}{\S\S}

% Convenience wrappers for single and ranged section references
\newcommand{\Sref}[1]{\cref{#1}}
\newcommand{\SSref}[2]{\crefrange{#1}{#2}}

% Appendix reference helper (prints "Appendix A", etc.)
\newcommand{\Appref}[1]{Appendix~\ref{#1}}

% ------------------------------------------------------------
% Figures & Tables: ensure capitalized names in references
\crefname{figure}{Figure}{Figures}
\Crefname{figure}{Figure}{Figures}
\crefname{table}{Table}{Tables}
\Crefname{table}{Table}{Tables}

% ------------------------------------------------------------
% Box environment (tcolorbox theorem with global numbering)
% Type name used for labels: 'box' -> \cref{...} prints "Box N"
\newtcbtheorem[auto counter]{docbox}{Box}%
{enhanced jigsaw, breakable, colback=gray!5!white, colframe=gray!75!black, fonttitle=\bfseries}{box}

% Cleveref naming for Box
\crefname{box}{Box}{Boxes}
\Crefname{box}{Box}{Boxes}
\crefname{docbox}{Box}{Boxes}
\Crefname{docbox}{Box}{Boxes}
% tcolorbox theorem label type used in aux (tcb@cnt@docbox)
\crefname{tcb@cnt@docbox}{Box}{Boxes}
\Crefname{tcb@cnt@docbox}{Box}{Boxes}
